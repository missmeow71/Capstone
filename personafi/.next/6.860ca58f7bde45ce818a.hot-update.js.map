{"version":3,"file":"6.860ca58f7bde45ce818a.hot-update.js","sources":["webpack:///components/AddToCart.js","webpack:///lib/moltin.js","webpack:///pages/product.js"],"sourcesContent":["import {Input, Button, Label} from 'semantic-ui-react'\nimport {addToCart} from '../lib/moltin'\n\nexport default class AddToCart extends React.Component {\n  state = {\n    loading: false,\n    quantity: 1\n  }\n\n  _handleSubmit = async () => {\n    const { productId } = this.props\n    const { quantity } = this.state\n\n\n    this.setState({\n      loading: true\n    })\n\n    const cart = await addToCart( productId, quantity)\n\n    this.setState({\n      loading: false,\n      quantity: 1\n    })\n  }\n\n  _handleChange = ({ target: { value } }) =>\n    this.setState({\n      quantity: value\n    })\n\n  render() {\n    const { loading, quantity } = this.state\n\n    return (\n      <Input\n        type=\"number\"\n        placeholder=\"Quantity\"\n        value={quantity}\n        onChange={e => this._handleChange(e)}\n        action={{\n          color: 'orange',\n          content: 'Add to Cart',\n          icon: 'plus cart',\n          onClick: this._handleSubmit,\n          loading,\n          disabled: loading\n        }}\n      />\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// components/AddToCart.js","import { gateway as MoltinGateway } from '@moltin/sdk'\n\nconst Moltin = MoltinGateway({\n    client_id: 'TkrDPNqfC1j7AJFFUHnMZbN9RzPygkff3beqMhxQsl'\n})\n\nexport const getProducts = () => Moltin.Products.With('main_image').All()\n\nexport const getProductById = id => Moltin.Products.With('main_image').Get(id)\n\nexport const addToCart = (productId, quantity) => Moltin.Cart().AddProduct(productId, quantity)\n\nexport const getCartItems = id => Moltin.Cart(id).Items()\n\nexport const removeFromCart = (itemId, cartId) => Moltin.Cart(cartId).RemoveItem(itemId)\n\nexport const checkoutCart = (cartId, customer, billing) => Moltin.Cart(cartId).Checkout(customer, billing)\n\nexport const payForOrder = (orderId, token, email) => Moltin.Orders.Payment(orderId, {\n  gateway: 'stripe',\n  method: 'purchase',\n  payment: token,\n  options: {\n    receipt_email: email\n  }\n})\n\nexport const register = async ({email, password, ...rest}) => {\n  const {\n    data: { name, id }\n  } = await Moltin.Customers.Create({\n    type: 'customer',\n    email,\n    password,\n    ...rest\n  })\n  const {token} = await login({email, password})\n\n  return {\n    id,\n    name,\n    email,\n    token\n  }\n}\n\nexport const login = async ({email, password}) => {\n  const {data: {token} } = await Moltin.Customers.Token(email, password)\n\n  return {\n    token\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// lib/moltin.js","import Layout from '../components/Layout'\nimport { getProductById } from '../lib/moltin'\nimport ProductSummary from '../components/ProductSummary'\nimport ProductAttributes from '../components/ProductAttributes'\n\nconst ProductPage = ({product}) => (\n    <Layout title={product.name}>\n        <ProductSummary {...product} />\n        <ProductAttributes {...product} />\n    </Layout>\n)\n\nProductPage.getInitialProps = async ({query: {id}}) => {\n    const { data, included: {main_images} } = await getProductById(id)\n\n    const imageId = data.relationships.main_image\n      ? data.relationships.main_image.data.id\n      : false\n\n    return {\n        product: {\n            ...data,\n            image: imageId \n            ? main_images.find(img => img.id === imageId).link.href \n            : '/static/logo-wht.png'\n        }\n  }\n}\nexport default ProductPage \n\n\n// WEBPACK FOOTER //\n// pages/product.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;;;;;;;;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AADA;AACA;AANA;AAAA;AACA;AADA;AASA;AACA;AACA;AACA;AACA;AAFA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;AAgBA;AAAA;AAAA;AAEA;AADA;AADA;;;;;;AAKA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AALA;AAAA;AAAA;AAAA;AAAA;AAeA;;;;AA/CA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAEA;AACA;AADA;AAIA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAJA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAHA;AACA;AAJA;AAAA;AAAA;AAEA;AAAA;AAFA;AAAA;AASA;AAAA;AAAA;AACA;AAVA;AAAA;AASA;AATA;AAYA;AACA;AACA;AACA;AAJA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AAEA;AAHA;AAQA;AAEA;AACA;AAAA;AAHA;AADA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAeA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}